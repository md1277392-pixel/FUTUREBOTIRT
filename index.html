<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRT FUTURE SIGNAL GENERATOR</title>
    <style>
        body, html { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background-color: #0f172a; color: #e2e8f0; height: 100%; }
        
        /* Background - ‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶∏‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
        .auth-bg {
            background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('file_00000000bea072308204c5eaa5f02903.png');
            background-size: cover; background-position: center;
            height: 100vh; display: flex; justify-content: center; align-items: center;
        }

        .auth-container {
            background: rgba(30, 41, 59, 0.9); padding: 30px; border-radius: 15px;
            border: 2px solid #fbbf24; width: 320px; text-align: center; backdrop-filter: blur(10px);
        }

        h2 { color: #fbbf24; text-transform: uppercase; margin-bottom: 20px; }
        input, select { width: 95%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #38bdf8; background: #0f172a; color: white; }
        
        .btn-gen { width: 100%; padding: 12px; background: #38bdf8; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; color: #000; }
        .action-btns { display: flex; gap: 10px; margin-top: 15px; }
        .btn-copy-all { flex: 2; padding: 10px; background: #4ade80; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; color: #000; }
        .btn-clear { flex: 1; padding: 10px; background: #f87171; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; color: #fff; }

        #bot-section { display: none; padding: 20px; max-width: 500px; margin: auto; }
        .header-card { background: #1e293b; padding: 20px; border-radius: 12px; border: 1px solid #38bdf8; margin-bottom: 10px; }
        
        #results { background: #020617; padding: 15px; border-radius: 10px; min-height: 150px; font-family: monospace; border: 1px solid #475569; overflow-y: auto; max-height: 300px; }
        .signal-item { padding: 8px 0; border-bottom: 1px solid #1e293b; font-size: 14px; }
        .call { color: #4ade80; font-weight: bold; }
        .put { color: #f87171; font-weight: bold; }

        /* Owner Section - ‡¶ó‡ßã‡¶≤ ‡¶≤‡ßã‡¶ó‡ßã ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° */
        .owner-info {
            margin-top: 30px; display: flex; align-items: center; justify-content: center;
            background: rgba(30, 41, 59, 0.5); padding: 10px; border-radius: 50px; border: 1px solid #fbbf24;
        }
        .owner-logo {
            width: 45px; height: 45px; border-radius: 50%; border: 2px solid #fbbf24;
            object-fit: cover; margin-right: 12px;
        }
        .owner-text { font-size: 15px; font-weight: bold; color: #fbbf24; }
    </style>
</head>
<body>

<div id="auth-section" class="auth-bg">
    <div id="login-box" class="auth-container">
        <h2>IRT LOGIN</h2>
        <input type="email" id="l-email" placeholder="Email">
        <input type="password" id="l-pass" placeholder="Password">
        <button onclick="doLogin()" style="width:100%; background:#fbbf24; padding:12px; border:none; border-radius:8px; font-weight:bold;">LOGIN</button>
        <span onclick="showSignup()" style="color:#38bdf8; cursor:pointer; display:block; margin-top:15px;">Create Account</span>
    </div>

    <div id="signup-box" class="auth-container" style="display: none;">
        <h2>IRT SIGN UP</h2>
        <input type="email" id="s-email" placeholder="Email">
        <input type="password" id="s-pass" placeholder="Password">
        <button onclick="doSignup()" style="width:100%; background:#fbbf24; padding:12px; border:none; border-radius:8px; font-weight:bold;">SIGN UP</button>
        <span onclick="showLogin()" style="color:#38bdf8; cursor:pointer; display:block; margin-top:15px;">Back to Login</span>
    </div>
</div>

<div id="bot-section">
    <div class="header-card">
        <h2 style="margin:0 0 15px 0; text-align:center;">IRT FUTURE GEN</h2>
        <select id="market-type">
            <option value="OTC">OTC MARKET</option>
            <option value="REAL">REAL MARKET</option>
        </select>
        <input type="text" id="pair-name" placeholder="Pair (e.g. TRUUSD-OTC)">
        <div style="display: flex; gap: 5px;">
            <input type="time" id="t-start" value="00:00">
            <input type="time" id="t-end" value="23:59">
        </div>
        <button class="btn-gen" onclick="getSignals()">GENERATE SIGNALS</button>
    </div>

    <div id="results">Signals will appear here...</div>

    <div class="action-btns" id="post-gen-btns" style="display:none;">
        <button class="btn-copy-all" onclick="copyAllSignals()">üìã COPY ALL</button>
        <button class="btn-clear" onclick="clearResults()">üóëÔ∏è CLEAR</button>
    </div>

    <div class="owner-info">
        <img src="file_00000000bea072308204c5eaa5f02903.png" class="owner-logo" alt="logo">
        <div class="owner-text">Owner: @irtsupport1</div>
    </div>
</div>

<script>
    let allSignalsText = "";

    function showSignup() { document.getElementById('login-box').style.display='none'; document.getElementById('signup-box').style.display='block'; }
    function showLogin() { document.getElementById('login-box').style.display='block'; document.getElementById('signup-box').style.display='none'; }

    function doSignup() {
        const e = document.getElementById('s-email').value;
        const p = document.getElementById('s-pass').value;
        if(e && p) { localStorage.setItem(e, p); alert("Signup Success!"); showLogin(); }
    }

    function doLogin() {
        const e = document.getElementById('l-email').value;
        const p = document.getElementById('l-pass').value;
        if(localStorage.getItem(e) === p) {
            document.getElementById('auth-section').style.display = 'none';
            document.getElementById('bot-section').style.display = 'block';
        } else { alert("Invalid Credentials!"); }
    }

    async function getSignals() {
        const market = document.getElementById('market-type').value;
        const pair = document.getElementById('pair-name').value.toUpperCase();
        const start = document.getElementById('t-start').value;
        const end = document.getElementById('t-end').value;
        const resDiv = document.getElementById('results');

        if(!pair) return alert("Enter Pair!");

        resDiv.innerHTML = "‚è≥ Fetching High Accuracy Signals...";
        let url = `https://quotexotc-futureapi.poghen-dx.workers.dev/pairs=${pair.replace("-OTC", "_otc")}?start_time=${start}&end_time=${end}`;
        
        try {
            const response = await fetch(url);
            const data = await response.json();
            const signals = data.signals || [];

            if(signals.length === 0) {
                resDiv.innerHTML = "‚ùå No signals found!";
                document.getElementById('post-gen-btns').style.display = 'none';
                return;
            }

            resDiv.innerHTML = "";
            allSignalsText = ""; 
            
            signals.forEach(s => {
                let dir = (s.direction || "CALL").toUpperCase();
                let time = s.time || "00:00";
                let asset = s.asset ? s.asset.replace('_otc', '-OTC') : pair;
                let line = `M1;${asset};${time};${dir}`;
                allSignalsText += line + "\n";
                resDiv.innerHTML += `<div class="signal-item">M1;${asset};${time};<span class="${dir==='CALL'?'call':'put'}">${dir}</span></div>`;
            });

            document.getElementById('post-gen-btns').style.display = 'flex';
        } catch { resDiv.innerHTML = "‚ùå Error fetching data!"; }
    }

    function copyAllSignals() {
        navigator.clipboard.writeText(allSignalsText.trim());
        alert("‚úÖ All signals copied!");
    }

    function clearResults() {
        document.getElementById('results').innerHTML = "Signals will appear here...";
        document.getElementById('post-gen-btns').style.display = 'none';
        allSignalsText = "";
    }
</script>

</body>
</html>